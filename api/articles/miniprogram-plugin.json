{"title":"小程序插件开发小结","uid":"c00700d4b7ee04c5f2fbc4cd62042e68","slug":"miniprogram-plugin","date":"2019-05-29T02:14:05.000Z","updated":"2021-04-06T12:18:50.819Z","comments":true,"path":"api/articles/miniprogram-plugin.json","cover":"https://heaven-blog-1255884785.file.myqcloud.com/poster-thumbnail.jpg","content":"<h2 id=\"小程序插件开发小结\"><a href=\"#小程序插件开发小结\" class=\"headerlink\" title=\"小程序插件开发小结\"></a>小程序插件开发小结</h2><blockquote>\n<p>本文主要是整理了与总结了一些小程序插件开发相关资料，按顺序阅读按文章即可对小程序插件开发有个基本了解了</p>\n</blockquote>\n<h3 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h3><h4 id=\"什么是小程序插件\"><a href=\"#什么是小程序插件\" class=\"headerlink\" title=\"什么是小程序插件\"></a>什么是小程序插件</h4><blockquote>\n<p>插件是对一组<code>js 接口</code>、<code>自定义组件</code>或<code>页面</code>的封装，用于嵌入到小程序中使用。插件不能独立运行，必须嵌入在其他小程序中才能被用户使用；而第三方小程序在使用插件时，也无法看到插件的代码。因此，插件适合用来封装自己的功能或服务，提供给第三方小程序进行展示和使用。</p>\n</blockquote>\n<p> 插件的开发和使用自小程序基础库版本 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\">1.9.6</a> 开始支持。（如果插件包含页面，则需要基础库版本 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\">2.1.0</a> 。）</p>\n<p><strong><span style=\"color: red;\">小程序的 AppID 可以创建小程序插件项目，插件是独立于小程序之外的，但是 AppID 是公用的</span></strong></p>\n<p>传送门：<a href=\"https://developers.weixin.qq.com/miniprogram/introduction/plugin.html#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D\">小程序插件功能介绍</a></p>\n<span id=\"more\"></span>\n<h4 id=\"插件所有者小程序\"><a href=\"#插件所有者小程序\" class=\"headerlink\" title=\"插件所有者小程序\"></a>插件所有者小程序</h4><p>开始开发之前，我们需要知道，插件功能页是指 <strong>插件所有者小程序</strong> 中的一个特殊页面。</p>\n<p><strong>插件所有者小程序</strong>，指的是与插件 <code>AppID</code> 相同的小程序。例如，“小程序示例”小程序开发了一个“小程序示例插件”，那么无论这个插件被哪个小程序使用，这个插件的 <strong>插件所有者小程序</strong> 都是“小程序示例”。下文中会继续使用 <strong>插件所有者小程序</strong> 这个说法。</p>\n<h4 id=\"什么是插件功能页\"><a href=\"#什么是插件功能页\" class=\"headerlink\" title=\"什么是插件功能页\"></a>什么是插件功能页</h4><blockquote>\n<p>相对于普通 js 文件或自定义组件，插件拥有更强的独立性，拥有独立的 API 接口、域名列表等，但同时会受到一些限制，如 <strong>一些 API 无法调用或功能受限</strong>。还有个别特殊的接口，虽然插件不能直接调用，但可以使用 <strong>插件功能页</strong> 来间接实现。</p>\n</blockquote>\n<p><strong>激活插件功能页特性：</strong></p>\n<p>要在插件中调用插件功能页，需要先激活插件所有者小程序的功能页特性。具体来说，在插件所有者小程序的 <code>app.json</code> 文件中添加 <code>functionalPages</code> 定义段，并令其值为 <code>true</code> ，例如：</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"functionalPages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"independent\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// 兼容旧方式</span>\n<span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"functionalPages\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这两种写法的区别在于，新式的写法 <code>&quot;independent&quot;: true</code> 会使得插件功能页的代码独立于其他代码，这意味着插件功能页可以被独立下载、加载，具有更好的性能表现。 但也同时使得插件功能页目录 <code>functional-pages/</code> （支付功能页会使用其中的文件）不能 require 这个目录以外的文件（反之亦然：这个目录以外的文件也不能调用这个目录内的）。</p>\n<p>注意，新增或改变这个字段时，需要这个小程序发布新版本，才能在正式环境中使用插件功能页。</p>\n<p>传送门：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages.html\">插件功能页</a></p>\n<p>####插件调用 API 限制</p>\n<p>插件可以调用的 API 与小程序不同，主要有两个区别：</p>\n<ul>\n<li>插件的请求域名列表与小程序相互独立；</li>\n<li>一些 API 不允许插件调用（这些函数不存在于 <code>wx</code> 对象下）。</li>\n</ul>\n<p>有些接口虽然在插件中不能使用，但可以通过插件功能页来达到目的，请参考<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages.html\">插件功能页</a>。</p>\n<p>目前，允许插件调用的 API 有：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/api-limit.html\">插件可调用 API 列表</a></p>\n<h4 id=\"插件使用组件限制\"><a href=\"#插件使用组件限制\" class=\"headerlink\" title=\"插件使用组件限制\"></a>插件使用组件限制</h4><p>在插件开发中，以下组件不能在插件页面中使用：</p>\n<ul>\n<li>开放能力（open-type）为以下之一的 button：<ul>\n<li>contact（打开客服会话）</li>\n<li>getPhoneNumber（获取用户手机号）</li>\n<li>getUserInfo（获取用户信息）</li>\n</ul>\n</li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/open-data.html\">open-data</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html\">web-view</a></li>\n</ul>\n<p>以下组件的使用对基础库版本有要求：</p>\n<ul>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html\">navigator</a> 需要基础库版本 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\">2.1.0</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/live-player.html\">live-player</a> 和 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/live-pusher.html\">live-pusher</a> 需要基础库版本 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\">2.3.0</a></li>\n</ul>\n<h3 id=\"开发插件\"><a href=\"#开发插件\" class=\"headerlink\" title=\"开发插件\"></a>开发插件</h3><h4 id=\"开放范围及服务类目\"><a href=\"#开放范围及服务类目\" class=\"headerlink\" title=\"开放范围及服务类目\"></a>开放范围及服务类目</h4><blockquote>\n<p>开放范围：企业、媒体、政府及其他组织主体</p>\n</blockquote>\n<h4 id=\"插件开发接入流程\"><a href=\"#插件开发接入流程\" class=\"headerlink\" title=\"插件开发接入流程\"></a>插件开发接入流程</h4><p>以下为插件开发接入流程：</p>\n<ol>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/introduction/plugin.html#%E5%BC%80%E9%80%9A%E6%8F%92%E4%BB%B6%E5%8A%9F%E8%83%BD\">开通插件功能</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/introduction/plugin.html#%E5%A1%AB%E5%86%99%E5%BC%80%E5%8F%91%E4%BF%A1%E6%81%AF%E5%B9%B6%E5%AE%8C%E6%88%90%E5%BC%80%E5%8F%91\">填写开发信息并开发</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/introduction/plugin.html#%E5%AE%8C%E5%96%84%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF\">完善基本信息</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/introduction/plugin.html#%E6%8F%90%E4%BA%A4%E5%AE%A1%E6%A0%B8%E3%80%81%E5%8F%91%E5%B8%83\">提交审核、发布</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/introduction/plugin.html#%E7%AE%A1%E7%90%86%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E7%94%B3%E8%AF%B7\">管理插件使用申请</a></li>\n</ol>\n<h4 id=\"插件开发\"><a href=\"#插件开发\" class=\"headerlink\" title=\"插件开发\"></a>插件开发</h4><p>传送门：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/development.html\">小程序插件开发</a></p>\n<p>阅读官方文档之后，我们大概知道如何进行一个小程序插件开发了。这里记录一些文档上没提到的地方：</p>\n<ul>\n<li>插件里面可以引用 <code>npm</code> 包，同样的可以将引用的包暴露给小程序使用</li>\n<li>插件里面支持发布<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/template-message.html\">模板消息</a>到第三方小程序主体中</li>\n</ul>\n<h3 id=\"小程序插件的使用\"><a href=\"#小程序插件的使用\" class=\"headerlink\" title=\"小程序插件的使用\"></a>小程序插件的使用</h3><blockquote>\n<p>在使用插件前，首先要在小程序管理后台的“设置-第三方服务-插件管理”中添加插件。开发者可登录小程序管理后台，通过 appid 查找插件并添加。如果插件无需申请，添加后可直接使用；否则需要申请并等待插件开发者通过后，方可在小程序中使用相应的插件。</p>\n</blockquote>\n<p>使用插件前，使用者要在 <code>app.json</code> 中声明需要使用的插件，例如：</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"myPlugin\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// 'myPlugin' 只是一个别名，可随意命名</span>\n      <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"provider\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"wxidxxxxxxxxxxxxxxxx\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>在分包内引入插件代码包：</strong></p>\n<p>如果插件只在一个分包内用到，可以将插件仅放在这个分包内，例如：</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"subpackages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"root\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"packageA\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"pages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"pages/cat\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"pages/dog\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"myPlugin\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n          <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"provider\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"wxidxxxxxxxxxxxxxxxx\"</span>\n        <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在分包内使用插件有如下限制：</p>\n<ul>\n<li>仅能在这个分包内使用该插件；</li>\n<li>同一个插件不能被多个分包同时引用；</li>\n<li>基础库版本低于 2.6.0 时，不能从分包外的页面直接跳入分包内的插件页面，需要先跳入分包内的非插件页面、再跳入同一分包内的插件页面。</li>\n</ul>\n<h4 id=\"小程序引用插件接口、页面、组件\"><a href=\"#小程序引用插件接口、页面、组件\" class=\"headerlink\" title=\"小程序引用插件接口、页面、组件\"></a>小程序引用插件接口、页面、组件</h4><ul>\n<li><p>引用插件提供的组件：</p>\n<p>使用插件提供的自定义组件，和<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/\">使用普通自定义组件</a>的方式相仿。在页面的 <code>json</code> 文件定义需要引入的自定义组件时，使用 <code>plugin://</code> 协议指明插件的引用名和自定义组件名，</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"usingComponents\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"hello-component\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"plugin://myPlugin/hello-component\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><p>引用插件提供的接口</p>\n<p>使用插件的 js 接口时，可以使用 <code>requirePlugin</code> 方法。例如，插件提供一个名为 <code>hello</code> 的方法和一个名为 <code>world</code> 的变量，则可以像下面这样调用：</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">const myPluginInterface = requirePlugin('myPlugin')\n\nmyPluginInterface.hello()\nconst myWorld = myPluginInterface.world<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><p>引用插件页面</p>\n<p>插件的页面从小程序基础库版本 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\">2.1.0</a> 开始支持。</p>\n<p>需要跳转到插件页面时，<code>url</code> 使用 <code>plugin://</code> 前缀，形如 <code>plugin://PLUGIN_NAME/PLUGIN_PAGE</code>， 如：</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>navigator</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>plugin://myPlugin/hello-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  Go to pages/hello-page!\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>navigator</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>####小程序与插件数据交互</p>\n<ul>\n<li>通过 URL 参数形式传递</li>\n</ul>\n<ol>\n<li>在小程序端引用插件入口，<code>URL</code> 后面带上插件所需的数据信息，通过这种方案，我们可以将小程序的里面 取得的 <code>openId</code> 传递给插件</li>\n</ol>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>navigator</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>item<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>plugin://myPlugin/send-message?params=&#123;&#123;params&#125;&#125;<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n  表单提交推送消息\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>navigator</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ol start=\"2\">\n<li>在插件页面 <code>onLoad</code> 生命周期内，获取并解析数据</li>\n</ol>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// 生命周期函数--监听页面加载</span>\n<span class=\"token function\">onLoad</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'onLoad'</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> options <span class=\"token operator\">?</span> options<span class=\"token punctuation\">.</span>params <span class=\"token operator\">:</span> <span class=\"token string\">'&#123;&#125;'</span>\n  <span class=\"token keyword\">const</span> pageParams <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pageParams<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> pageParams <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>通过小程序提供一个消息订阅接口</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> plugin <span class=\"token operator\">=</span> <span class=\"token function\">requirePlugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myPlugin\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 这里的 msg 假设是一个消息订阅类</span>\n<span class=\"token comment\">// 消息通信 - 小程序端</span>\n<span class=\"token comment\">// 监听来自插件的消息</span>\nplugin<span class=\"token punctuation\">.</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'plugin'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 发送小程序消息给插件</span>\nplugin<span class=\"token punctuation\">.</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mini'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">333</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 消息通信 - 插件端</span>\n<span class=\"token keyword\">import</span> msg <span class=\"token keyword\">from</span> <span class=\"token string\">'../../common/msg'</span>\n<span class=\"token comment\">// 监听来自小程序的消息</span>\nmsg<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mini'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 发送插件消息给小程序</span>\nmsg<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'plugin'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">333</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","feature":null,"text":"小程序插件开发小结 本文主要是整理了与总结了一些小程序插件开发相关资料，按顺序阅读按文章即可对小程序插件开发有个基本了解了 基础概念什么是小程序插件 插件是对一组js 接口、自定义组件或页面的封装，用于嵌入到小程序中使用。插件不能独立运行，必须嵌入在其他小程序中才能被用户使用；而...","link":"","photos":[],"count_time":{"symbolsCount":"4k","symbolsTime":"4 mins."},"categories":[{"name":"wechat","slug":"wechat","count":1,"path":"api/categories/wechat.json"}],"tags":[{"name":"javascript","slug":"javascript","count":4,"path":"api/tags/javascript.json"},{"name":"miniprogram","slug":"miniprogram","count":1,"path":"api/tags/miniprogram.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%B0%8F%E7%BB%93\"><span class=\"toc-text\">小程序插件开发小结</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">基础概念</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">什么是小程序插件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8F%92%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85%E5%B0%8F%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">插件所有者小程序</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8F%92%E4%BB%B6%E5%8A%9F%E8%83%BD%E9%A1%B5\"><span class=\"toc-text\">什么是插件功能页</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6%E9%99%90%E5%88%B6\"><span class=\"toc-text\">插件使用组件限制</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">开发插件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%BC%80%E6%94%BE%E8%8C%83%E5%9B%B4%E5%8F%8A%E6%9C%8D%E5%8A%A1%E7%B1%BB%E7%9B%AE\"><span class=\"toc-text\">开放范围及服务类目</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8E%A5%E5%85%A5%E6%B5%81%E7%A8%8B\"><span class=\"toc-text\">插件开发接入流程</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91\"><span class=\"toc-text\">插件开发</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">小程序插件的使用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%95%E7%94%A8%E6%8F%92%E4%BB%B6%E6%8E%A5%E5%8F%A3%E3%80%81%E9%A1%B5%E9%9D%A2%E3%80%81%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">小程序引用插件接口、页面、组件</span></a></li></ol></li></ol></li></ol>","author":{"name":"Heaven","avatar":"https://heaven-blog-1255884785.file.myqcloud.com/github-avatar.jpeg","link":""},"mapped":true,"prev_post":{"title":"使用 TypeScript 开发小程序最佳实践","uid":"e5113338e0939e903a9a93fc32006e30","slug":"用-Typescript-编写微信小程序","date":"2020-01-28T07:34:33.000Z","updated":"2021-04-06T12:17:20.087Z","comments":true,"path":"api/articles/用-Typescript-编写微信小程序.json","cover":"https://heaven-blog-1255884785.file.myqcloud.com/poster-thumbnail.jpg","text":" 当微信小程序遇上 Typescript 会碰撞出怎样的火花？该文章将介绍一下如何使用 TS 来提升小程序的开发体验 该文章含有大量示例代码，读者有过小程序开发经验并且对 TypeScript 熟悉最佳 完整阅读该文章大概需要 10 分钟； 使用 TSLib 精简代码在 TS 中...","link":"","photos":[],"count_time":{"symbolsCount":"12k","symbolsTime":"11 mins."},"categories":[{"name":"小程序","slug":"小程序","count":1,"path":"api/categories/小程序.json"},{"name":"typescript","slug":"小程序/typescript","count":1,"path":"api/categories/小程序/typescript.json"}],"tags":[{"name":"小程序","slug":"小程序","count":1,"path":"api/tags/小程序.json"},{"name":"typescript","slug":"typescript","count":2,"path":"api/tags/typescript.json"}],"author":{"name":"Heaven","avatar":"https://heaven-blog-1255884785.file.myqcloud.com/github-avatar.jpeg","link":""}},"next_post":{"title":"React Hook 不完全指南","uid":"e88fe6a6229c00317a00aa25a4bec6fe","slug":"react-hook","date":"2019-05-18T08:31:27.000Z","updated":"2021-04-06T12:16:13.650Z","comments":true,"path":"api/articles/react-hook.json","cover":"https://heaven-blog-1255884785.file.myqcloud.com/poster-thumbnail.jpg","text":"React Hook 不完全指南前言 本文内容大部分参考了 overreacted.io 博客一文，同时结合 React Hook 官方 文章，整理并归纳一些笔记和输出个人的一些理解 什么是 Hook ？ 官方介绍：Hook 是 React 16.8 的新增特性。它可以让你在不编...","link":"","photos":[],"count_time":{"symbolsCount":"7.5k","symbolsTime":"7 mins."},"categories":[{"name":"React","slug":"React","count":2,"path":"api/categories/React.json"}],"tags":[{"name":"javascript","slug":"javascript","count":4,"path":"api/tags/javascript.json"},{"name":"react","slug":"react","count":3,"path":"api/tags/react.json"}],"author":{"name":"Heaven","avatar":"https://heaven-blog-1255884785.file.myqcloud.com/github-avatar.jpeg","link":""}}}